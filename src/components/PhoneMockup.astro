---
import { Image } from "astro:assets";
import Badge from "./Badge.astro";

interface Props {
  contentImage: ImageMetadata;
  phoneImage: ImageMetadata;
}

const { contentImage, phoneImage } = Astro.props;
---

<div class="mockup-container">
  <div class="mockup-content">
    <Image src={contentImage} alt={"Mobile View"} width={300} height={533} />
  </div>
  <Image
    src={phoneImage}
    alt={"iPhone"}
    class="mockup-phone"
    width={300}
    height={533}
  />
  <div
    class="absolute -right-1 -top-1 z-30 mt-3 flex h-12 w-fit items-center rounded-lg border border-[#333] bg-[#1a1a1a] px-2 py-1 md:mt-4"
  >
    <p class="p-1 text-xl text-[#e0e0e0]">Scroll Me!</p>
  </div>
</div>

<style>
  /* Broken on Safari... disable for now */
  @supports (hanging-punctuation: first) and (font: -apple-system-body) and
    (-webkit-appearance: none) {
    .mockup-container,
    .mockup-content,
    .mockup-phone {
      display: none;
    }
  }

  .mockup-container {
    position: relative;
    width: 100%;
    max-width: 400px;
    margin: 0 auto;
    aspect-ratio: 9/16;
  }

  .mockup-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    height: auto;
    aspect-ratio: 9/16;
    overflow-y: auto;
    z-index: 1;
    scrollbar-width: none;
  }

  .mockup-content::-webkit-scrollbar {
    display: none;
  }

  .mockup-phone {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    z-index: 2;
    pointer-events: none;
    aspect-ratio: 9/16;
  }

  @media (max-width: 1024px) {
    .mockup-content {
      transform: translate(-155px, -50%);
    }
  }
</style>
